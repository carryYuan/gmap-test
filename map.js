
!function(){function t(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t}function e(){var t,e=arguments.length,i={},n=function(t,e){var i,o;for(o in e)e.hasOwnProperty(o)&&(i=e[o],"object"!=typeof t&&(t={}),t[o]=i&&"object"==typeof i&&"[object Array]"!==Object.prototype.toString.call(i)&&"number"!=typeof i.nodeType?n(t[o]||{},i):e[o]);return t};for(t=0;e>t;t++)i=n(i,arguments[t]);return i}function i(){for(var t=0,e=arguments,i=e.length,n={};i>t;t++)n[e[t++]]=e[t];return n}function n(t,e){return parseInt(t,e||10)}function o(t){return"string"==typeof t}function s(t){return"object"==typeof t}function r(t){return"[object Array]"===Object.prototype.toString.call(t)}function a(t){return"number"==typeof t}function l(t){return ge.log(t)/ge.LN10}function c(t){return ge.pow(10,t)}function h(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}}function d(t){return t!==V&&null!==t}function u(t,e,i){var n,r,a="setAttribute";if(o(e))d(i)?t[a](e,i):t&&t.getAttribute&&(r=t.getAttribute(e));else if(d(e)&&s(e))for(n in e)t[a](n,e[n]);return r}function p(t){return r(t)?t:[t]}function f(){var t,e,i=arguments,n=i.length;for(t=0;n>t;t++)if(e=i[t],"undefined"!=typeof e&&null!==e)return e}function g(e,i){De&&i&&i.opacity!==V&&(i.filter="alpha(opacity="+100*i.opacity+")"),t(e.style,i)}function m(e,i,n,o,s){var r=pe.createElement(e);return i&&t(r,i),s&&g(r,{padding:0,border:Ke,margin:0}),n&&g(r,n),o&&o.appendChild(r),r}function v(e,i){var n=function(){};return n.prototype=new e,t(n.prototype,i),n}function _(t,e,i,o){var s=$.lang,r=t,a=-1===e?((r||0).toString().split(".")[1]||"").length:isNaN(e=be(e))?2:e,l=void 0===i?s.decimalPoint:i,c=void 0===a?s.thousandsSep:o,h=0>r?"-":"",d=String(n(r=be(+r||0).toFixed(a))),u=d.length>3?d.length%3:0;return h+(u?d.substr(0,u)+c:"")+d.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+c)+(a?l+be(r-d).toFixed(a).slice(2):"")}function y(t,e){return new Array((e||2)+1-String(t).length).join(0)+t}function x(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(n),i.apply(this,t)}}function b(t,e){var i,n=/f$/,o=/\.([0-9])/,s=$.lang;return n.test(t)?(i=t.match(o),i=i?i[1]:-1,e=_(e,i,s.decimalPoint,t.indexOf(",")>-1?s.thousandsSep:"")):e=K(t,e),e}function w(t,e){for(var i,n,o,s,r,a,l,c="{",h=!1,d=[];-1!==(l=t.indexOf(c));){if(i=t.slice(0,l),h){for(n=i.split(":"),o=n.shift().split("."),r=o.length,a=e,s=0;r>s;s++)a=a[o[s]];n.length&&(a=b(n.join(":"),a)),d.push(a)}else d.push(i);t=t.slice(l+1),h=!h,c=h?"}":"{"}return d.push(t),d.join("")}function k(t,e,i,n){var o,s;for(i=f(i,1),o=t/i,e||(e=[1,2,2.5,5,10],n&&n.allowDecimals===!1&&(1===i?e=[1,2,5,10]:.1>=i&&(e=[1/i]))),s=0;s<e.length&&(t=e[s],!(o<=(e[s]+(e[s+1]||e[s]))/2));s++);return t*=i}function M(t,e){var i,n,o=e||[[oi,[1,2,5,10,20,25,50,100,200,500]],[si,[1,2,5,10,15,30]],[ri,[1,2,5,10,15,30]],[ai,[1,2,3,4,6,8,12]],[li,[1,2]],[ci,[1,2]],[hi,[1,2,3,4,6]],[di,null]],s=o[o.length-1],r=te[s[0]],a=s[1];for(n=0;n<o.length;n++)if(s=o[n],r=te[s[0]],a=s[1],o[n+1]){var l=(r*a[a.length-1]+te[o[n+1][0]])/2;if(l>=t)break}return r===te[di]&&5*r>t&&(a=[1,2,5]),r===te[di]&&5*r>t&&(a=[1,2,5]),i=k(t/r,a),{unitRange:r,count:i,unitName:s[0]}}function T(e,i,n,o){var s,r,a=[],l={},c=$.global.useUTC,h=new Date(i),u=e.unitRange,p=e.count;if(d(i)){u>=te[si]&&(h.setMilliseconds(0),h.setSeconds(u>=te[ri]?0:p*ve(h.getSeconds()/p))),u>=te[ri]&&h[le](u>=te[ai]?0:p*ve(h[ie]()/p)),u>=te[ai]&&h[ce](u>=te[li]?0:p*ve(h[ne]()/p)),u>=te[li]&&h[he](u>=te[hi]?1:p*ve(h[se]()/p)),u>=te[hi]&&(h[de](u>=te[di]?0:p*ve(h[re]()/p)),r=h[ae]()),u>=te[di]&&(r-=r%p,h[ue](r)),u===te[ci]&&h[he](h[se]()-h[oe]()+f(o,1)),s=1,r=h[ae]();for(var g=h.getTime(),m=h[re](),v=h[se](),_=c?0:(864e5+60*h.getTimezoneOffset()*1e3)%864e5;n>g;)a.push(g),u===te[di]?g=ee(r+s*p,0):u===te[hi]?g=ee(r,m+s*p):c||u!==te[li]&&u!==te[ci]?g+=u*p:g=ee(r,m,v+s*p*(u===te[li]?1:7)),s++;a.push(g),yi(xi(a,function(t){return u<=te[ai]&&t%te[li]===_}),function(t){l[t]=li})}return a.info=t(e,{higherRanks:l,totalRange:u*p}),a}function C(){this.color=0,this.symbol=0}function S(t,e){var i,n,o=t.length;for(n=0;o>n;n++)t[n].ss_i=n;for(t.sort(function(t,n){return i=e(t,n),0===i?t.ss_i-n.ss_i:i}),n=0;o>n;n++)delete t[n].ss_i}function D(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i}function P(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i}function A(t,e){var i;for(i in t)t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i]}function L(t){Z||(Z=m(Xe)),t&&Z.appendChild(t),Z.innerHTML=""}function I(t,e){var i="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e)throw i;fe.console&&console.log(i)}function O(t){return parseFloat(t.toPrecision(14))}function z(t,e){J=f(t,e.animation)}function Y(){var t=$.global.useUTC,e=t?"getUTC":"get",i=t?"setUTC":"set";ee=t?Date.UTC:function(t,e,i,n,o,s){return new Date(t,e,f(i,1),f(n,0),f(o,0),f(s,0)).getTime()},ie=e+"Minutes",ne=e+"Hours",oe=e+"Day",se=e+"Date",re=e+"Month",ae=e+"FullYear",le=i+"Minutes",ce=i+"Hours",he=i+"Date",de=i+"Month...stroke:"#68A",fill:{linearGradient:v,stops:[[0,"#9BD"],[1,"#CDF"]]}},l),p=l[m],delete l[m],ki(f.element,"mouseenter",function(){f.attr(a).css(u)}),ki(f.element,"mouseleave",function(){c=[r,a,l][g],h=[d,u,p][g],f.attr(c).css(h)}),f.setState=function(t){g=t,t?2===t&&f.attr(l).css(p):f.attr(r).css(d)},f.on("click",function(){s.call(f)}).attr(r).css(t({cursor:"default"},d))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=me(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=me(t[2])+e%2/2),t},path:function(e){var i={fill:Ke};return r(e)?i.d=e:s(e)&&t(i,e),this.createElement("path").attr(i)},circle:function(t,e,i){var n=s(t)?t:{x:t,y:e,r:i};return this.createElement("circle").attr(n)},arc:function(t,e,i,n,o,r){return s(t)&&(e=t.y,i=t.r,n=t.innerR,o=t.start,r=t.end,t=t.x),this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:n||0,start:o||0,end:r||0})},rect:function(t,e,i,n,o,r){o=s(t)?t.r:o;var a=this.createElement("rect").attr({rx:o,ry:o,fill:Ke});return a.attr(s(t)?t:a.crisp(r,t,e,ye(i,0),ye(n,0)))},setSize:function(t,e,i){var n=this,o=n.alignedObjects,s=o.length;for(n.width=t,n.height=e,n.boxWrapper[f(i,!0)?"animate":"attr"]({width:t,height:e});s--;)o[s].align()},g:function(t){var e=this.createElement("g");return d(t)?e.attr({"class":qe+t}):e},image:function(e,i,n,o,s){var r,a={preserveAspectRatio:Ke};return arguments.length>1&&t(a,{x:i,y:n,width:o,height:s}),r=this.createElement("image").attr(a),r.element.setAttributeNS?r.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):r.element.setAttribute("hc-svg-href",e),r},symbol:function(e,i,n,o,s,r){var a,l,c,h,d,u=this.symbols[e],p=u&&u(me(i),me(n),o,s,r),f=/^url\((.*?)\)$/;return p?(a=this.path(p),t(a,{symbolName:e,x:i,y:n,width:o,height:s}),r&&t(a,r)):f.test(e)&&(d=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(me((o-e[0])/2),me((s-e[1])/2)))},c=e.match(f)[1],h=He[c],a=this.image(c).attr({x:i,y:n}),a.isImg=!0,h?d(a,h):(a.attr({width:0,height:0}),l=m("img",{onload:function(){d(a,He[c]=[this.width,this.height])},src:c}))),a},symbols:{circle:function(t,e,i,n){var o=.166*i;return[Je,t+i/2,e,"C",t+i+o,e,t+i+o,e+n,t+i/2,e+n,"C",t-o,e+n,t-o,e,t+i/2,e,"Z"]},square:function(t,e,i,n){return[Je,t,e,Qe,t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return[Je,t+i/2,e,Qe,t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return[Je,t,e,Qe,t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return[Je,t+i/2,e,Qe,t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,o){var s=o.start,r=o.r||i||n,a=o.end-.001,l=o.innerR,c=o.open,h=we(s),d=ke(s),u=we(a),p=ke(a),f=o.end-s<Me?0:1;return[Je,t+r*h,e+r*d,"A",r,r,0,f,1,t+r*u,e+r*p,c?Je:Qe,t+l*u,e+l*p,"A",l,l,0,f,0,t+l*h,e+l*d,c?"":"Z"]}},clipRect:function(t,e,i,n){var o,s=qe+Be++,r=this.createElement("clipPath").attr({id:s}).add(this.defs);return o=this.rect(t,e,i,n,0).add(r),o.id=s,o.clipPath=r,o},color:function(t,i,n){var o,s,a,l,c,h,p,f,g,m,v,_=this,y=/^rgba/,x=[];if(t&&t.linearGradient?s="linearGradient":t&&t.radialGradient&&(s="radialGradient"),s){a=t[s],l=_.gradients,h=t.stops,g=i.radialReference,r(a)&&(t[s]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===s&&g&&!d(a.gradientUnits)&&(a=e(a,{cx:g[0]-g[2]/2+a.cx*g[2],cy:g[1]-g[2]/2+a.cy*g[2],r:a.r*g[2],gradientUnits:"userSpaceOnUse"}));for(m in a)"id"!==m&&x.push(m,a[m]);for(m in h)x.push(h[m]);return x=x.join(","),l[x]?v=l[x].id:(a.id=v=qe+Be++,l[x]=c=_.createElement(s).attr(a).add(_.defs),c.stops=[],yi(h,function(t){var e;y.test(t[1])?(o=Ii(t[1]),p=o.get("rgb"),f=o.get("a")):(p=t[1],f=1),e=_.createElement("stop").attr({offset:t[0],"stop-color":p,"stop-opacity":f}).add(c),c.stops.push(e)})),"url("+_.url+"#"+v+")"}return y.test(t)?(o=Ii(t),u(i,n+"-opacity",o.get("a")),o.get("rgb")):(i.removeAttribute(n+"-opacity"),t)},text:function(t,e,i,n){var o,s=this,r=$.chart.style,a=Re||!ze&&s.forExport;return n&&!s.forExport?s.html(t,e,i):(e=me(f(e,0)),i=me(f(i,0)),o=s.createElement("text").attr({x:e,y:i,text:t}).css({fontFamily:r.fontFamily,fontSize:r.fontSize}),a&&o.css({position:Ue}),o.x=e,o.y=i,o)},html:function(e,i,n){var o=$.chart.style,s=this.createElement("span"),r=s.attrSetters,a=s.element,l=s.renderer;return r.text=function(t){return t!==a.innerHTML&&delete this.bBox,a.innerHTML=t,!1},r.x=r.y=r.align=function(t,e){return"align"===e&&(e="textAlign"),s[e]=t,s.htmlUpdateTransform(),!1},s.attr({text:e,x:me(i),y:me(n)}).css({position:Ue,whiteSpace:"nowrap",fontFamily:o.fontFamily,fontSize:o.fontSize}),s.css=s.htmlCss,l.isSVG&&(s.add=function(e){var i,n,o=l.box.parentNode,r=[];if(e){if(i=e.div,!i){for(n=e;n;)r.push(n),n=n.parentGroup;yi(r.reverse(),function(e){var n;i=e.div=e.div||m(Xe,{className:u(e.element,"class")},{position:Ue,left:(e.translateX||0)+$e,top:(e.translateY||0)+$e},i||o),n=i.style,t(e.attrSetters,{translateX:function(t){n.left=t+$e},translateY:function(t){n.top=t+$e},visibility:function(t,e){n[e]=t}})})}}else i=o;return i.appendChild(a),s.added=!0,s.alignOnAdd&&s.htmlUpdateTransform(),s
}),s},fontMetrics:function(t){t=n(t||11);var e=24>t?t+4:me(1.2*t),i=me(.8*e);return{h:e,b:i}},label:function(i,n,o,s,r,a,l,c,h){function u(){var t,i,n=C.element.style;v=(void 0===_||void 0===y||T.styles.textAlign)&&C.getBBox(),T.width=(_||v.width||0)+2*D+P,T.height=(y||v.height||0)+2*D,w=D+M.fontMetrics(n&&n.fontSize).b,k&&(m||(t=me(-S*D),i=c?-w:0,T.box=m=s?M.symbol(s,t,i,T.width,T.height):M.rect(t,i,T.width,T.height,0,L[ui]),m.add(T)),m.isImg||m.attr(e({width:T.width,height:T.height},L)),L=null)}function p(){var t,e=T.styles,i=e&&e.textAlign,n=P+D*(1-S);t=c?0:w,!d(_)||"center"!==i&&"right"!==i||(n+={center:.5,right:1}[i]*(_-v.width)),(n!==C.x||t!==C.y)&&C.attr({x:n,y:t}),C.x=n,C.y=t}function f(t,e){m?m.attr(t,e):L[t]=e}function g(){C.add(T),T.attr({text:i,x:n,y:o}),m&&d(r)&&T.attr({anchorX:r,anchorY:a})}var m,v,_,y,x,b,w,k,M=this,T=M.g(h),C=M.text("",0,0,l).attr({zIndex:1}),S=0,D=3,P=0,A=0,L={},I=T.attrSetters;ki(T,"add",g),I.width=function(t){return _=t,!1},I.height=function(t){return y=t,!1},I.padding=function(t){return d(t)&&t!==D&&(D=t,p()),!1},I.paddingLeft=function(t){return d(t)&&t!==P&&(P=t,p()),!1},I.align=function(t){return S={left:0,center:.5,right:1}[t],!1},I.text=function(t,e){return C.attr(e,t),u(),p(),!1},I[ui]=function(t,e){return k=!0,A=t%2/2,f(e,t),!1},I.stroke=I.fill=I.r=function(t,e){return"fill"===e&&(k=!0),f(e,t),!1},I.anchorX=function(t,e){return r=t,f(e,t+A-x),!1},I.anchorY=function(t,e){return a=t,f(e,t-b),!1},I.x=function(t){return T.x=t,t-=S*((_||v.width)+D),x=me(t),T.attr("translateX",x),!1},I.y=function(t){return b=T.y=me(t),T.attr("translateY",b),!1};var O=T.css;return t(T,{css:function(t){if(t){var i={};t=e(t),yi(["fontSize","fontWeight","fontFamily","color","lineHeight","width","textDecoration"],function(e){t[e]!==V&&(i[e]=t[e],delete t[e])}),C.css(i)}return O.call(T,t)},getBBox:function(){return{width:v.width+2*D,height:v.height+2*D,x:v.x-D,y:v.y-D}},shadow:function(t){return m&&m.shadow(t),T},destroy:function(){Mi(T,"add",g),Mi(T.element,"mouseenter"),Mi(T.element,"mouseleave"),C&&(C=C.destroy()),m&&(m=m.destroy()),H.prototype.destroy.call(T),T=M=u=p=f=g=null}})}},q=Oi;var zi,Yi;if(!ze&&!Re){Highcharts.VMLElement=Yi={init:function(t,e){var i=this,n=["<",e,' filled="f" stroked="f"'],o=["position: ",Ue,";"],s=e===Xe;("shape"===e||s)&&o.push("left:0;top:0;width:1px;height:1px;"),o.push("visibility: ",s?Ve:Ze),n.push(' style="',o.join(""),'"/>'),e&&(n=s||"span"===e||"img"===e?n.join(""):t.prepVML(n),i.element=m(n)),i.renderer=t,i.attrSetters={}},add:function(t){var e=this,i=e.renderer,n=e.element,o=i.box,s=t&&t.inverted,r=t?t.element||t:o;return s&&i.invertChild(n,r),r.appendChild(n),e.added=!0,e.alignOnAdd&&!e.deferUpdateTransform&&e.updateTransform(),Ti(e,"add"),e},updateTransform:H.prototype.htmlUpdateTransform,attr:function(t,e){var i,n,s,r,l,c,h=this,p=h.element||{},f=p.style,g=p.nodeName,v=h.renderer,_=h.symbolName,y=h.shadows,x=h.attrSetters,b=h;if(o(t)&&d(e)&&(i=t,t={},t[i]=e),o(t))i=t,b="strokeWidth"===i||"stroke-width"===i?h.strokeweight:h[i];else for(i in t)if(n=t[i],c=!1,r=x[i]&&x[i].call(h,n,i),r!==!1&&null!==n){if(r!==V&&(n=r),_&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(i))l||(h.symbolAttr(t),l=!0),c=!0;else if("d"===i){n=n||[],h.d=n.join(" "),s=n.length;for(var w,k=[];s--;)a(n[s])?k[s]=me(10*n[s])-5:"Z"===n[s]?k[s]="x":(k[s]=n[s],!n.isArc||"wa"!==n[s]&&"at"!==n[s]||(w="wa"===n[s]?1:-1,k[s+5]===k[s+7]&&(k[s+7]-=w),k[s+6]===k[s+8]&&(k[s+8]-=w)));if(n=k.join(" ")||"x",p.path=n,y)for(s=y.length;s--;)y[s].path=y[s].cutOff?this.cutOffPath(n,y[s].cutOff):n;c=!0}else if("visibility"===i){if(y)for(s=y.length;s--;)y[s].style[i]=n;"DIV"===g&&(n=n===Ve?"-999em":0,Pe||(f[i]=n?Ze:Ve),i="top"),f[i]=n,c=!0}else if("zIndex"===i)n&&(f[i]=n),c=!0;else if(-1!==_i(i,["x","y","width","height"]))h[i]=n,"x"===i||"y"===i?i={x:"left",y:"top"}[i]:n=ye(0,n),h.updateClipping?(h[i]=n,h.updateClipping()):f[i]=n,c=!0;else if("class"===i&&"DIV"===g)p.className=n;else if("stroke"===i)n=v.color(n,p,i),i="strokecolor";else if("stroke-width"===i||"strokeWidth"===i)p.stroked=n?!0:!1,i="strokeweight",h[i]=n,a(n)&&(n+=$e);else if("dashstyle"===i){var M=p.getElementsByTagName("stroke")[0]||m(v.prepVML(["<stroke/>"]),null,null,p);M[i]=n||"solid",h.dashstyle=n,c=!0}else"fill"===i?"SPAN"===g?f.color=n:"IMG"!==g&&(p.filled=n!==Ke?!0:!1,n=v.color(n,p,i,h),i="fillcolor"):"opacity"===i?c=!0:"shape"===g&&"rotation"===i?(h[i]=n,p.style.left=-me(ke(n*Te)+1)+$e,p.style.top=me(we(n*Te))+$e):"translateX"===i||"translateY"===i||"rotation"===i?(h[i]=n,h.updateTransform(),c=!0):"text"===i&&(this.bBox=null,p.innerHTML=n,c=!0);c||(Pe?p[i]=n:u(p,i,n))}return b},clip:function(t){var e,i,n=this;return t?(e=t.members,h(e,n),e.push(n),n.destroyClip=function(){h(e,n)},i=t.getCSS(n)):(n.destroyClip&&n.destroyClip(),i={clip:Pe?"inherit":"rect(auto)"}),n.css(i)},css:H.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&L(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),H.prototype...=o.oldAxisLength,yi(o.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(i=!0)}),(n||i||o.isLinked||o.forceRedraw||o.userMin!==o.oldUserMin||o.userMax!==o.oldUserMax)&&(o.forceRedraw=!1,o.getSeriesExtremes(),o.setTickPositions(),o.oldUserMin=o.userMin,o.oldUserMax=o.userMax,o.isDirty||(o.isDirty=n||o.min!==o.oldMin||o.max!==o.oldMax)),!o.isXAxis)for(t in s)for(e in s[t])s[t][e].cum=s[t][e].total;o.setMaxTicks()},setExtremes:function(e,i,n,o,s){var r=this,a=r.chart;n=f(n,!0),s=t(s,{min:e,max:i}),Ti(r,"setExtremes",s,function(){r.userMin=e,r.userMax=i,r.isDirtyExtremes=!0,n&&a.redraw(o)})},zoom:function(t,e){return this.allowZoomOutside||(t<=this.dataMin&&(t=V),e>=this.dataMax&&(e=V)),this.displayBtn=t!==V||e!==V,this.setExtremes(t,e,!1,V,{trigger:"zoom"}),!0},setAxisSize:function(){var t,e,i,n,o=this.chart,s=this.options,r=s.offsetLeft||0,a=s.offsetRight||0,l=this.horiz;this.left=n=f(s.left,o.plotLeft+r),this.top=i=f(s.top,o.plotTop),this.width=t=f(s.width,o.plotWidth-r+a),this.height=e=f(s.height,o.plotHeight),this.bottom=o.chartHeight-e-i,this.right=o.chartWidth-t-n,this.len=ye(l?t:e,0),this.pos=l?n:i},getExtremes:function(){var t=this,e=t.isLog;return{min:e?O(c(t.min)):t.min,max:e?O(c(t.max)):t.max,dataMin:t.dataMin,dataMax:t.dataMax,userMin:t.userMin,userMax:t.userMax}},getThreshold:function(t){var e=this,i=e.isLog,n=i?c(e.min):e.min,o=i?c(e.max):e.max;return n>t||null===t?t=n:t>o&&(t=o),e.translate(t,0,1,0,1)},addPlotBand:function(t){this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var i=new F(this,t).render(),n=this.userOptions;return e&&(n[e]=n[e]||[],n[e].push(t)),this.plotLinesAndBands.push(i),i},getOffset:function(){var t,e,i,n,o=this,s=o.chart,r=s.renderer,a=o.options,l=o.tickPositions,c=o.ticks,h=o.horiz,u=o.side,p=s.inverted?[1,0,3,2][u]:u,g=0,m=0,v=a.title,_=a.labels,y=0,x=s.axisOffset,b=s.clipOffset,w=[-1,1,1,-1][u];if(o.hasData=t=o.hasVisibleSeries||d(o.min)&&d(o.max)&&!!l,o.showAxis=e=t||f(a.showEmpty,!0),o.axisGroup||(o.gridGroup=r.g("grid").attr({zIndex:a.gridZIndex||1}).add(),o.axisGroup=r.g("axis").attr({zIndex:a.zIndex||2}).add(),o.labelGroup=r.g("axis-labels").attr({zIndex:_.zIndex||7}).add()),t||o.isLinked)yi(l,function(t){c[t]?c[t].addLabel():c[t]=new B(o,t)}),yi(l,function(t){(0===u||2===u||{1:"left",3:"right"}[u]===_.align)&&(y=ye(c[t].getLabelSize(),y))}),o.staggerLines&&(y+=16*(o.staggerLines-1));else for(n in c)c[n].destroy(),delete c[n];v&&v.text&&v.enabled!==!1&&(o.axisTitle||(o.axisTitle=r.text(v.text,0,0,v.useHTML).attr({zIndex:7,rotation:v.rotation||0,align:v.textAlign||{low:"left",middle:"center",high:"right"}[v.align]}).css(v.style).add(o.axisGroup),o.axisTitle.isNew=!0),e&&(g=o.axisTitle.getBBox()[h?"height":"width"],m=f(v.margin,h?5:10),i=v.offset),o.axisTitle[e?"show":"hide"]()),o.offset=w*f(a.offset,x[u]),o.axisTitleMargin=f(i,y+m+(2!==u&&y&&w*a.labels[h?"y":"x"])),x[u]=ye(x[u],o.axisTitleMargin+g+w*o.offset),b[p]=ye(b[p],a.lineWidth)},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,o=this.horiz,s=this.left+(i?this.width:0)+n,r=e.chartHeight-this.bottom-(i?this.height:0)+n;return this.lineTop=r,i||(t*=-1),e.renderer.crispLine([Je,o?this.left:s,o?r:this.top,Qe,o?e.chartWidth-this.right:s,o?r:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,e=this.left,i=this.top,o=this.len,s=this.options.title,r=t?e:i,a=this.opposite,l=this.offset,c=n(s.style.fontSize||12),h={low:r+(t?0:o),middle:r+o/2,high:r+(t?o:0)}[s.align],d=(t?i+this.height:e)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+(2===this.side?c:0);return{x:t?h:d+(a?this.width:0)+l+(s.x||0),y:t?d-(a?this.height:0)+l:h+(s.y||0)}},render:function(){var t,e,i,n=this,o=n.chart,s=o.renderer,r=n.options,a=n.isLog,l=n.isLinked,h=n.tickPositions,u=n.axisTitle,p=n.stacks,f=n.ticks,g=n.minorTicks,m=n.alternateBands,v=r.stackLabels,_=r.alternateGridColor,y=n.tickmarkOffset,x=r.lineWidth,b=o.hasRendered,w=b&&d(n.oldMin)&&!isNaN(n.oldMin),k=n.hasData,M=n.showAxis;if(yi([f,g,m],function(t){var e;for(e in t)t[e].isActive=!1}),(k||l)&&(n.minorTickInterval&&!n.categories&&yi(n.getMinorTickPositions(),function(t){g[t]||(g[t]=new B(n,t,"minor")),w&&g[t].isNew&&g[t].render(null,!0),g[t].render(null,!1,1)}),h.length&&(yi(h.slice(1).concat([h[0]]),function(t,e){e=e===h.length-1?0:e+1,(!l||t>=n.min&&t<=n.max)&&(f[t]||(f[t]=new B(n,t)),w&&f[t].isNew&&f[t].render(e,!0),f[t].render(e,!1,1))}),y&&0===n.min&&(f[-1]||(f[-1]=new B(n,-1,null,!0)),f[-1].render(-1))),_&&yi(h,function(t,o){o%2===0&&t<n.max&&(m[t]||(m[t]=new F(n)),e=t+y,i=h[o+1]!==V?h[o+1]+y:n.max,m[t].options={from:a?c(e):e,to:a?c(i):i,color:_},m[t].render(),m[t].isActive=!0)}),n._addedPlotLB||(yi((r.plotLines||[]).concat(r.plotBands||[]),function(t){n.addPlotBandOrLine(t)}),n._addedPlotLB=!0)),yi([f,g,m],function(t){var e,i,n=[],s=J?J.duration||500:0,r=function(){for(i=n.length;i--;)t[n[i]]&&!t[n[i]].isActive&&(t[n[i]].destroy(),delete t[n[i]])
};for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,n.push(e));t!==m&&o.hasRendered&&s?s&&setTimeout(r,s):r()}),x&&(t=n.getLinePath(x),n.axisLine?n.axisLine.animate({d:t}):n.axisLine=s.path(t).attr({stroke:r.lineColor,"stroke-width":x,zIndex:7}).add(n.axisGroup),n.axisLine[M?"show":"hide"]()),u&&M&&(u[u.isNew?"attr":"animate"](n.getTitlePosition()),u.isNew=!1),v&&v.enabled){var T,C,S,D=n.stackTotalGroup;D||(n.stackTotalGroup=D=s.g("stack-labels").attr({visibility:Ze,zIndex:6}).add()),D.translate(o.plotLeft,o.plotTop);for(T in p){C=p[T];for(S in C)C[S].render(D)}}n.isDirty=!1},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=e.length;i--;)e[i].id===t&&e[i].destroy()},setTitle:function(t,e){this.update({title:t},e)},redraw:function(){var t=this,e=t.chart,i=e.pointer;i.reset&&i.reset(!0),t.render(),yi(t.plotLinesAndBands,function(t){t.render()}),yi(t.series,function(t){t.isDirty=!0})},setCategories:function(t,e){this.update({categories:t},e)},destroy:function(){var t,e=this,i=e.stacks;Mi(e);for(t in i)A(i[t]),i[t]=null;yi([e.ticks,e.minorTicks,e.alternateBands,e.plotLinesAndBands],function(t){A(t)}),yi(["stackTotalGroup","axisLine","axisGroup","gridGroup","labelGroup","axisTitle"],function(t){e[t]&&(e[t]=e[t].destroy())})}},G.prototype={init:function(t,e){var i=e.borderWidth,o=e.style,s=n(o.padding);this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,e.shape,null,null,e.useHTML,null,"tooltip").attr({padding:s,fill:e.backgroundColor,"stroke-width":i,r:e.borderRadius,zIndex:8}).css(o).css({padding:0}).hide().add(),Re||this.label.shadow(e.shadow),this.shared=e.shared},destroy:function(){yi(this.crosshairs,function(t){t&&t.destroy()}),this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(e,i,n,o){var s=this,r=s.now,a=s.options.animation!==!1&&!s.isHidden;t(r,{x:a?(2*r.x+e)/3:e,y:a?(r.y+i)/2:i,anchorX:a?(2*r.anchorX+n)/3:n,anchorY:a?(r.anchorY+o)/2:o}),s.label.attr(r),a&&(be(e-r.x)>1||be(i-r.y)>1)&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){s&&s.move(e,i,n,o)},32))},hide:function(){var t,e=this;clearTimeout(this.hideTimer),this.isHidden||(t=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){e.label.fadeOut(),e.isHidden=!0},f(this.options.hideDelay,500)),t&&yi(t,function(t){t.setState()}),this.chart.hoverPoints=null)},hideCrosshairs:function(){yi(this.crosshairs,function(t){t&&t.hide()})},getAnchor:function(t,e){var i,n,o=this.chart,s=o.inverted,r=o.plotTop,a=0,l=0;return t=p(t),i=t[0].tooltipPos,this.followPointer&&e&&(e.chartX===V&&(e=o.pointer.normalize(e)),i=[e.chartX-o.plotLeft,e.chartY-r]),i||(yi(t,function(t){n=t.series.yAxis,a+=t.plotX,l+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!s&&n?n.top-r:0)}),a/=t.length,l/=t.length,i=[s?o.plotWidth-l:a,this.shared&&!s&&t.length>1&&e?e.chartY-r:s?o.plotHeight-a:l]),wi(i,me)},getPosition:function(t,e,i){var n,o=this.chart,s=o.plotLeft,r=o.plotTop,a=o.plotWidth,l=o.plotHeight,c=f(this.options.distance,12),h=i.plotX,d=i.plotY,u=h+s+(o.inverted?c:-t-c),p=d-e+r+15;return 7>u&&(u=s+ye(h,0)+c),u+t>s+a&&(u-=u+t-(s+a),p=d-e+r-c,n=!0),r+5>p&&(p=r+5,n&&d>=p&&p+e>=d&&(p=d+r+c)),p+e>r+l&&(p=ye(r,r+l-e-c)),{x:u,y:p}},defaultFormatter:function(t){var e,i=this.points||p(this),n=i[0].series;return e=[n.tooltipHeaderFormatter(i[0])],yi(i,function(t){n=t.series,e.push(n.tooltipFormatter&&n.tooltipFormatter(t)||t.point.tooltipFormatter(n.tooltipOptions.pointFormat))}),e.push(t.options.footerFormat||""),e.join("")},refresh:function(t,e){var i,n,o,s,r,a,c,h=this,d=h.chart,u=h.label,g=h.options,m={},v=[],_=g.formatter||h.defaultFormatter,y=d.hoverPoints,x=g.crosshairs,b=h.shared;if(clearTimeout(this.hideTimer),h.followPointer=p(t)[0].series.tooltipOptions.followPointer,s=h.getAnchor(t,e),i=s[0],n=s[1],!b||t.series&&t.series.noSharedTooltip?m=t.getLabelConfig():(d.hoverPoints=t,y&&yi(y,function(t){t.setState()}),yi(t,function(t){t.setState(ii),v.push(t.getLabelConfig())}),m={x:t[0].category,y:t[0].y},m.points=v,t=t[0]),r=_.call(m,h),c=t.series,o=b||!c.isCartesian||c.tooltipOutsidePlot||d.isInsidePlot(i,n),r!==!1&&o?(h.isHidden&&(Di(u),u.attr("opacity",1).show()),u.attr({text:r}),a=g.borderColor||t.color||c.color||"#606060",u.attr({stroke:a}),h.updatePosition({plotX:i,plotY:n}),this.isHidden=!1):this.hide(),x){x=p(x);for(var w,k,M,T,C=x.length;C--;)M=t.series[C?"yAxis":"xAxis"],x[C]&&M&&(T=C?f(t.stackY,t.y):t.x,M.isLog&&(T=l(T)),w=M.getPlotLinePath(T,1),h.crosshairs[C]?h.crosshairs[C].attr({d:w,visibility:Ze}):(k={"stroke-width":x[C].width||1,stroke:x[C].color||"#C0C0C0",zIndex:x[C].zIndex||2},x[C].dashStyle&&(k.dashstyle=x[C].dashStyle),h.crosshairs[C]=d.renderer.path(w).attr(k).add()))}Ti(d,"tooltipRefresh",{text:r,x:i+d.plotLeft,y:n+d.plotTop,borderColor:a})},updatePosition:function(t){var e=this.chart,i=this.label,n=(this.options.positioner||this.getPosition).call(this,i.widt...ntainerWidth||r!==i.containerHeight)&&(clearTimeout(e),i.reflowTimeout=e=setTimeout(function(){i.container&&(i.setSize(s,r,!1),i.hasUserSize=null)},100)),i.containerWidth=s,i.containerHeight=r)}var e,i=this,n=i.options.chart,o=i.renderTo;ki(fe,"resize",t),ki(i,"destroy",function(){Mi(fe,"resize",t)})},setSize:function(t,e,i){var n,o,s,r=this;r.isResizing+=1,s=function(){r&&Ti(r,"endResize",null,function(){r.isResizing-=1})},z(i,r),r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,d(t)&&(r.chartWidth=n=ye(0,me(t)),r.hasUserSize=!!n),d(e)&&(r.chartHeight=o=ye(0,me(e))),g(r.container,{width:n+$e,height:o+$e}),r.setChartSize(!0),r.renderer.setSize(n,o,i),r.maxTicks=null,yi(r.axes,function(t){t.isDirty=!0,t.setScale()}),yi(r.series,function(t){t.isDirty=!0}),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.getMargins(),r.redraw(i),r.oldChartHeight=null,Ti(r,"resize"),J===!1?s():setTimeout(s,J&&J.duration||500)},setChartSize:function(t){var e,i,n,o,s,r,a,l=this,c=l.inverted,h=l.renderer,d=l.chartWidth,u=l.chartHeight,p=l.options.chart,f=p.spacingTop,g=p.spacingRight,m=p.spacingBottom,v=p.spacingLeft,_=l.clipOffset;l.plotLeft=n=me(l.plotLeft),l.plotTop=o=me(l.plotTop),l.plotWidth=s=ye(0,me(d-n-l.marginRight)),l.plotHeight=r=ye(0,me(u-o-l.marginBottom)),l.plotSizeX=c?r:s,l.plotSizeY=c?s:r,l.plotBorderWidth=a=p.plotBorderWidth||0,l.spacingBox=h.spacingBox={x:v,y:f,width:d-v-g,height:u-f-m},l.plotBox=h.plotBox={x:n,y:o,width:s,height:r},e=_e(ye(a,_[3])/2),i=_e(ye(a,_[0])/2),l.clipBox={x:e,y:i,width:ve(l.plotSizeX-ye(a,_[1])/2-e),height:ve(l.plotSizeY-ye(a,_[2])/2-i)},t||yi(l.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this,e=t.options.chart,i=e.spacingTop,n=e.spacingRight,o=e.spacingBottom,s=e.spacingLeft;t.plotTop=f(t.optionsMarginTop,i),t.marginRight=f(t.optionsMarginRight,n),t.marginBottom=f(t.optionsMarginBottom,o),t.plotLeft=f(t.optionsMarginLeft,s),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,i=this,n=i.options.chart,o=i.renderer,s=i.chartWidth,r=i.chartHeight,a=i.chartBackground,l=i.plotBackground,c=i.plotBorder,h=i.plotBGImage,d=n.borderWidth||0,u=n.backgroundColor,p=n.plotBackgroundColor,f=n.plotBackgroundImage,g=n.plotBorderWidth||0,m=i.plotLeft,v=i.plotTop,_=i.plotWidth,y=i.plotHeight,x=i.plotBox,b=i.clipRect,w=i.clipBox;t=d+(n.shadow?8:0),(d||u)&&(a?a.animate(a.crisp(null,null,null,s-t,r-t)):(e={fill:u||Ke},d&&(e.stroke=n.borderColor,e["stroke-width"]=d),i.chartBackground=o.rect(t/2,t/2,s-t,r-t,n.borderRadius,d).attr(e).add().shadow(n.shadow))),p&&(l?l.animate(x):i.plotBackground=o.rect(m,v,_,y,0).attr({fill:p}).add().shadow(n.plotShadow)),f&&(h?h.animate(x):i.plotBGImage=o.image(f,m,v,_,y).add()),b?b.animate({width:w.width,height:w.height}):i.clipRect=o.clipRect(w),g&&(c?c.animate(c.crisp(null,m,v,_,y)):i.plotBorder=o.rect(m,v,_,y,0,g).attr({stroke:n.plotBorderColor,"stroke-width":g,zIndex:1}).add()),i.isDirtyBox=!1},propFromSeries:function(){var t,e,i,n=this,o=n.options.chart,s=n.options.series;yi(["inverted","angular","polar"],function(r){for(t=pi[o.type||o.defaultSeriesType],i=n[r]||o[r]||t&&t.prototype[r],e=s&&s.length;!i&&e--;)t=pi[s[e].type],t&&t.prototype[r]&&(i=!0);n[r]=i})},render:function(){var e,i=this,o=i.axes,s=i.renderer,r=i.options,a=r.labels,l=r.credits;i.setTitle(),i.legend=new U(i,r.legend),yi(o,function(t){t.setScale()}),i.getMargins(),i.maxTicks=null,yi(o,function(t){t.setTickPositions(!0),t.setMaxTicks()}),i.adjustTickAmounts(),i.getMargins(),i.drawChartBox(),i.hasCartesianSeries&&yi(o,function(t){t.render()}),i.seriesGroup||(i.seriesGroup=s.g("series-group").attr({zIndex:3}).add()),yi(i.series,function(t){t.translate(),t.setTooltipPoints(),t.render()}),a.items&&yi(a.items,function(e){var o=t(a.style,e.style),r=n(o.left)+i.plotLeft,l=n(o.top)+i.plotTop+12;delete o.left,delete o.top,s.text(e.html,r,l).attr({zIndex:2}).css(o).add()}),l.enabled&&!i.credits&&(e=l.href,i.credits=s.text(l.text,0,0).on("click",function(){e&&(location.href=e)}).attr({align:l.position.align,zIndex:8}).css(l.style).add().align(l.position)),i.hasRendered=!0},destroy:function(){var t,e=this,i=e.axes,n=e.series,o=e.container,s=o&&o.parentNode;for(Ti(e,"destroy"),Ne[e.index]=V,e.renderTo.removeAttribute("data-highcharts-chart"),Mi(e),t=i.length;t--;)i[t]=i[t].destroy();for(t=n.length;t--;)n[t]=n[t].destroy();yi(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(t){var i=e[t];i&&i.destroy&&(e[t]=i.destroy())}),o&&(o.innerHTML="",Mi(o),s&&L(o));for(t in e)delete e[t]},isReadyToRender:function(){var t=this;return!ze&&fe==fe.top&&"complete"!==pe.readyState||Re&&!fe.canvg?(Re?Hi.push(function(){t.firstRender()},t.options.global.canvasToolsURL):pe.attachEvent("onreadystatechange",function(){pe.detachEvent("onreadystatechange",t.firstRender),"complete"===pe.readyState&&t.firstRender()
}),!1):!0},firstRender:function(){var t=this,e=t.options,i=t.callback;t.isReadyToRender()&&(t.getContainer(),Ti(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),yi(e.series||[],function(e){t.initSeries(e)}),Ti(t,"beforeRender"),t.pointer=new X(t,e),t.render(),t.renderer.draw(),i&&i.apply(t,[t]),yi(t.callbacks,function(e){e.apply(t,[t])}),t.cloneRenderTo(!0),Ti(t,"load"))}},j.prototype.callbacks=[];var Bi=function(){};Bi.prototype={init:function(t,e,i){var n,o=this;return o.series=t,o.applyOptions(e,i),o.pointAttr={},t.options.colorByPoint&&(n=t.options.colors||t.chart.options.colors,o.color=o.color||n[t.colorCounter++],t.colorCounter===n.length&&(t.colorCounter=0)),t.chart.pointCount++,o},applyOptions:function(e,i){var n=this,o=n.series,s=o.pointValKey;return e=Bi.prototype.optionsToObject.call(this,e),t(n,e),n.options=n.options?t(n.options,e):e,s&&(n.y=n[s]),n.x===V&&o&&(n.x=i===V?o.autoIncrement():i),n},optionsToObject:function(t){var e,i,n=this.series,o=n.pointArrayMap||["y"],s=o.length,a=0,l=0;if("number"==typeof t||null===t)e={y:t};else if(r(t))for(e={},t.length>s&&(i=typeof t[0],"string"===i?e.name=t[0]:"number"===i&&(e.x=t[0]),a++);s>l;)e[o[l++]]=t[a++];else"object"==typeof t&&(e=t,t.dataLabels&&(n._hasPointLabels=!0),t.marker&&(n._hasPointMarkers=!0));return e},destroy:function(){var t,e=this,i=e.series,n=i.chart,o=n.hoverPoints;n.pointCount--,o&&(e.setState(),h(o,e),o.length||(n.hoverPoints=null)),e===n.hoverPoint&&e.onMouseOut(),(e.graphic||e.dataLabel)&&(Mi(e),e.destroyElements()),e.legendItem&&n.legend.destroyItem(e);for(t in e)e[t]=null},destroyElements:function(){for(var t,e=this,i=["graphic","dataLabel","dataLabelUpper","group","connector","shadowGroup"],n=6;n--;)t=i[n],e[t]&&(e[t]=e[t].destroy())},getLabelConfig:function(){var t=this;return{x:t.category,y:t.y,key:t.name||t.category,series:t.series,point:t,percentage:t.percentage,total:t.total||t.stackTotal}},select:function(t,e){var i=this,n=i.series,o=n.chart;t=f(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,n.options.data[_i(i,n.data)]=i.options,i.setState(t&&ni),e||yi(o.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,n.options.data[_i(t,n.data)]=t.options,t.setState(ei),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this,i=e.series,n=i.chart,o=n.tooltip,s=n.hoverPoint;s&&s!==e&&s.onMouseOut(),e.firePointEvent("mouseOver"),!o||o.shared&&!i.noSharedTooltip||o.refresh(e,t),e.setState(ii),n.hoverPoint=e},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;e&&-1!==_i(this,e)||(this.firePointEvent("mouseOut"),this.setState(),t.hoverPoint=null)},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,n=f(i.valueDecimals,""),o=i.valuePrefix||"",s=i.valueSuffix||"";return yi(e.pointArrayMap||["y"],function(e){e="{point."+e,(o||s)&&(t=t.replace(e+"}",o+e+"}"+s)),t=t.replace(e+"}",e+":,."+n+"f}")}),w(t,{point:this,series:this.series})},update:function(t,e,i){var n,o=this,r=o.series,a=o.graphic,l=r.data,c=r.chart;e=f(e,!0),o.firePointEvent("update",{options:t},function(){o.applyOptions(t),s(t)&&(r.getAttribs(),a&&a.attr(o.pointAttr[r.state])),n=_i(o,l),r.xData[n]=o.x,r.yData[n]=r.toYData?r.toYData(o):o.y,r.zData[n]=o.z,r.options.data[n]=o.options,r.isDirty=!0,r.isDirtyData=!0,e&&c.redraw(i)})},remove:function(t,e){var i,n=this,o=n.series,s=o.chart,r=o.data;z(e,s),t=f(t,!0),n.firePointEvent("remove",null,function(){i=_i(n,r),r.splice(i,1),o.options.data.splice(i,1),o.xData.splice(i,1),o.yData.splice(i,1),o.zData.splice(i,1),n.destroy(),o.isDirty=!0,o.isDirtyData=!0,t&&s.redraw()})},firePointEvent:function(t,e,i){var n=this,o=this.series,s=o.options;(s.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),"click"===t&&s.allowPointSelect&&(i=function(t){n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),Ti(this,t,e,i)},importEvents:function(){if(!this.hasImportedEvents){var t,i=this,n=e(i.series.options.point,i.options),o=n.events;i.events=o;for(t in o)ki(i,t,o[t]);this.hasImportedEvents=!0}},setState:function(t){var i,n,o=this,s=o.plotX,r=o.plotY,a=o.series,l=a.options.states,c=Ai[a.type].marker&&a.options.marker,h=c&&!c.enabled,d=c&&c.states[t],u=d&&d.enabled===!1,p=a.stateMarkerGraphic,f=o.marker||{},g=a.chart,m=o.pointAttr;t=t||ei,t===o.state||o.selected&&t!==ni||l[t]&&l[t].enabled===!1||t&&(u||h&&!d.enabled)||(o.graphic?(i=c&&o.graphic.symbolName&&m[t].r,o.graphic.attr(e(m[t],i?{x:s-i,y:r-i,width:2*i,height:2*i}:{}))):(t&&d&&(i=d.radius,n=f.symbol||a.symbol,p&&p.currentSymbol!==n&&(p=p.destroy()),p?p.attr({x:s-i,y:r-i}):(a.stateMarkerGraphic=p=g.renderer.symbol(n,s-i,r-i,2*i,2*i).attr(m[t]).add(a.markerGroup),p.currentSymbol=n)),p&&p[t&&g.isInsidePlot(s,r)?"show":"hide"]()),o.state=t)}};var Fi=function(){};Fi.prototype={isCartesian:!0,type:"line",pointClass:Bi,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidt...ptions.cursor,n=i&&{cursor:i},o=function(e){var i,n=e.target;for(t.onMouseOver();n&&!i;)i=n.point,n=n.parentNode;i!==V&&i.onMouseOver(e)};yi(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking?t._hasTracking=!0:yi(t.trackerGroups,function(i){t[i]&&(t[i].addClass(qe+"tracker").on("mouseover",o).on("mouseout",function(t){e.onTrackerMouseOut(t)}).css(n),Ee&&t[i].on("touchstart",o))})},alignDataLabel:function(t,i,n,o,s){var r=this.chart,a=r.inverted,l=t.dlBox||t.shapeArgs,c=t.below||t.plotY>f(this.translatedThreshold,r.plotSizeY),h=f(n.inside,!!this.options.stacking);l&&(o=e(l),a&&(o={x:r.plotWidth-o.y-o.height,y:r.plotHeight-o.x-o.width,width:o.height,height:o.width}),h||(a?(o.x+=c?0:o.width,o.width=0):(o.y+=c?o.height:0,o.height=0))),n.align=f(n.align,!a||h?"center":c?"right":"left"),n.verticalAlign=f(n.verticalAlign,a||h?"middle":c?"top":"bottom"),Fi.prototype.alignDataLabel.call(this,t,i,n,o,s)},animate:function(t){var e,i=this,n=this.yAxis,o=i.options,s=this.chart.inverted,r={};ze&&(t?(r.scaleY=.001,e=xe(n.pos+n.len,ye(n.pos,n.toPixels(o.threshold))),s?r.translateX=e-n.len:r.translateY=e,i.group.attr(r)):(r.scaleY=1,r[s?"translateX":"translateY"]=n.pos,i.group.animate(r,i.options.animation),i.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&yi(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),Fi.prototype.remove.apply(t,arguments)}});pi.column=ji,Ai.bar=e(Ai.column);var Vi=v(ji,{type:"bar",inverted:!0});pi.bar=Vi,Ai.scatter=e(Li,{lineWidth:0,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",followPointer:!0},stickyTracking:!1});var qi=v(Fi,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],drawTracker:ji.prototype.drawTracker,setTooltipPoints:Fe});pi.scatter=qi,Ai.pie=e(Li,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});var Zi=v(Bi,{init:function(){Bi.prototype.init.apply(this,arguments);var e,i=this;return i.y<0&&(i.y=null),t(i,{visible:i.visible!==!1,name:f(i.name,"Slice")}),e=function(){i.slice()},ki(i,"select",e),ki(i,"unselect",e),i},setVisible:function(t){var e,i=this,n=i.series,o=n.chart;i.visible=i.options.visible=t=t===V?!i.visible:t,n.options.data[_i(i,n.data)]=i.options,e=t?"show":"hide",yi(["graphic","dataLabel","connector","shadowGroup"],function(t){i[t]&&i[t][e]()}),i.legendItem&&o.legend.colorizeItem(i,t),!n.isDirty&&n.options.ignoreHiddenPoint&&(n.isDirty=!0,o.redraw())},slice:function(t,e,i){var n,o=this,s=o.series,r=s.chart;z(i,r),e=f(e,!0),o.sliced=o.options.sliced=t=d(t)?t:!o.sliced,s.options.data[_i(o,s.data)]=o.options,n=t?o.slicedTranslation:{translateX:0,translateY:0},o.graphic.animate(n),o.shadowGroup&&o.shadowGroup.animate(n)}}),$i={type:"pie",isCartesian:!1,pointClass:Zi,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:Fe,animate:function(t){var e=this,i=e.points,n=e.startAngleRad;t||(yi(i,function(t){var i=t.graphic,o=t.shapeArgs;i&&(i.attr({r:e.center[3]/2,start:n,end:n}),i.animate({r:o.r,start:o.start,end:o.end},e.options.animation))}),e.animate=null)},setData:function(t,e){Fi.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),f(e,!0)&&this.chart.redraw()},getCenter:function(){var t,e,i=this.options,o=this.chart,s=2*(i.slicedOffset||0),r=o.plotWidth-2*s,a=o.plotHeight-2*s,l=i.center,c=[f(l[0],"50%"),f(l[1],"50%"),i.size||"100%",i.innerSize||0],h=xe(r,a);return wi(c,function(i,o){return e=/%$/.test(i),t=2>o||2===o&&e,(e?[r,a,h,h][o]*n(i)/100:i)+(t?s:0)})},translate:function(t){this.generatePoints();var e,i,n,o,s,r,a,l,c=0,h=this,d=0,u=1e3,p=h.options,f=p.slicedOffset,g=f+p.borderWidth,m=h.startAngleRad=Me/180*((p.startAngle||0)%360-90),v=h.points,_=2*Me,y=p.dataLabels.distance,x=p.ignoreHiddenPoint,b=v.length;for(t||(h.center=t=h.getCenter()),h.getX=function(e,i){return n=ge.asin((e-t[1])/(t[2]/2+y)),t[0]+(i?-1:1)*we(n)*(t[2]/2+y)},a=0;b>a;a++)l=v[a],c+=x&&!l.visible?0:l.y;for(a=0;b>a;a++)l=v[a],o=c?l.y/c:0,e=me((m+d*_)*u)/u,(!x||l.visible)&&(d+=o),i=me((m+d*_)*u)/u,l.shapeType="arc",l.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:e,end:i},n=(i+e)/2,n>.75*_&&(n-=2*Me),l.slicedTranslation={translateX:me(we(n)*f),translateY:me(ke(n)*f)},s=we(n)*t[2]/2,r=ke(n)*t[2]/2,l.tooltipPos=[t[0]+.7*s,t[1]+.7*r],l.half=_/4>n?0:1,l.angle=n,g=xe(g,y/2),l.labelPos=[t[0]+s+we(n)*y,t[1]+r+ke(n)*y,t[0]+s+we(n)*g,t[1]+r+ke(n)*g,t[0]+s,t[1]+r,0>y?"center":l.half?"right":"left",n],l.percentage=100*o,l.total=c;
this.setTooltipPoints()},drawGraph:null,drawPoints:function(){var e,i,n,o,s=this,r=s.chart,a=r.renderer,l=s.options.shadow;l&&!s.shadowGroup&&(s.shadowGroup=a.g("shadow").add(s.group)),yi(s.points,function(r){i=r.graphic,o=r.shapeArgs,n=r.shadowGroup,l&&!n&&(n=r.shadowGroup=a.g("shadow").add(s.shadowGroup)),e=r.sliced?r.slicedTranslation:{translateX:0,translateY:0},n&&n.attr(e),i?i.animate(t(o,e)):r.graphic=i=a.arc(o).setRadialReference(s.center).attr(r.pointAttr[r.selected?ni:ei]).attr({"stroke-linejoin":"round"}).attr(e).add(s.group).shadow(l,n),r.visible===!1&&r.setVisible(!1)})},drawDataLabels:function(){var t,e,i,n,o,s,r,a,l,c,h,d,u,p=this,g=p.data,m=p.chart,v=p.options.dataLabels,_=f(v.connectorPadding,10),y=f(v.connectorWidth,1),x=m.plotWidth,b=m.plotHeight,w=f(v.softConnector,!0),k=v.distance,M=p.center,T=M[2]/2,C=M[1],S=k>0,D=[[],[]],A=[0,0,0,0],L=function(t,e){return e.y-t.y},I=function(t,e){t.sort(function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e})};if(v.enabled||p._hasPointLabels){for(Fi.prototype.drawDataLabels.apply(p),yi(g,function(t){t.dataLabel&&D[t.half].push(t)}),d=0;!r&&g[d];)r=g[d]&&g[d].dataLabel&&(g[d].dataLabel.getBBox().height||21),d++;for(d=2;d--;){var O,z,Y,R=[],E=[],H=D[d],B=H.length;if(I(H,d-.5),k>0){for(z=C-T-k;C+T+k>=z;z+=r)R.push(z);if(O=R.length,B>O){for(h=[].concat(H),h.sort(L),u=B;u--;)h[u].rank=u;for(u=B;u--;)H[u].rank>=O&&H.splice(u,1);B=H.length}for(u=0;B>u;u++){t=H[u],s=t.labelPos;var F,N,W=9999;for(N=0;O>N;N++)F=be(R[N]-s[1]),W>F&&(W=F,Y=N);if(u>Y&&null!==R[u])Y=u;else if(B-u+Y>O&&null!==R[u])for(Y=O-B+u;null===R[Y];)Y++;else for(;null===R[Y];)Y++;E.push({i:Y,y:R[Y]}),R[Y]=null}E.sort(L)}for(u=0;B>u;u++){var G,X;t=H[u],s=t.labelPos,n=t.dataLabel,c=t.visible===!1?Ve:Ze,X=s[1],k>0?(G=E.pop(),Y=G.i,l=G.y,(X>l&&null!==R[Y+1]||l>X&&null!==R[Y-1])&&(l=X)):l=X,a=v.justify?M[0]+(d?-1:1)*(T+k):p.getX(0===Y||Y===R.length-1?X:l,d),n._attr={visibility:c,align:s[6]},n._pos={x:a+v.x+({left:_,right:-_}[s[6]]||0),y:l+v.y-10},n.connX=a,n.connY=l,null===this.options.size&&(o=n.width,_>a-o?A[3]=ye(me(o-a+_),A[3]):a+o>x-_&&(A[1]=ye(me(a+o-x+_),A[1])),0>l-r/2?A[0]=ye(me(-l+r/2),A[0]):l+r/2>b&&(A[2]=ye(me(l+r/2-b),A[2])))}}(0===P(A)||this.verifyDataLabelOverflow(A))&&(this.placeDataLabels(),S&&y&&yi(this.points,function(t){e=t.connector,s=t.labelPos,n=t.dataLabel,n&&n._pos?(c=n._attr.visibility,a=n.connX,l=n.connY,i=w?[Je,a+("left"===s[6]?5:-5),l,"C",a,l,2*s[2]-s[4],2*s[3]-s[5],s[2],s[3],Qe,s[4],s[5]]:[Je,a+("left"===s[6]?5:-5),l,Qe,s[2],s[3],Qe,s[4],s[5]],e?(e.animate({d:i}),e.attr("visibility",c)):t.connector=e=p.chart.renderer.path(i).attr({"stroke-width":y,stroke:v.connectorColor||t.color||"#606060",visibility:c}).add(p.group)):e&&(t.connector=e.destroy())}))}},verifyDataLabelOverflow:function(t){var e,i=this.center,n=this.options,o=n.center,s=n.minSize||80,r=s;return null!==o[0]?r=ye(i[2]-ye(t[1],t[3]),s):(r=ye(i[2]-t[1]-t[3],s),i[0]+=(t[3]-t[1])/2),null!==o[1]?r=ye(xe(r,i[2]-ye(t[0],t[2])),s):(r=ye(xe(r,i[2]-t[0]-t[2]),s),i[1]+=(t[0]-t[2])/2),r<i[2]?(i[2]=r,this.translate(i),yi(this.points,function(t){t.dataLabel&&(t.dataLabel._pos=null)}),this.drawDataLabels()):e=!0,e},placeDataLabels:function(){yi(this.points,function(t){var e,i=t.dataLabel;i&&(e=i._pos,e?(i.attr(i._attr),i[i.moved?"animate":"attr"](e),i.moved=!0):i&&i.attr({y:-999}))})},alignDataLabel:Fe,drawTracker:ji.prototype.drawTracker,drawLegendSymbol:Wi.prototype.drawLegendSymbol,getSymbol:Fe};$i=v(Fi,$i),pi.pie=$i,t(Highcharts,{Axis:W,Chart:j,Color:Ii,Legend:U,Pointer:X,Point:Bi,Tick:B,Tooltip:G,Renderer:q,Series:Fi,SVGElement:H,SVGRenderer:Oi,arrayMin:D,arrayMax:P,charts:Ne,dateFormat:K,format:w,pathAnim:Q,getOptions:E,hasBidiBug:Ye,isTouchDevice:Ie,numberFormat:_,seriesTypes:pi,setOptions:R,addEvent:ki,removeEvent:Mi,createElement:m,discardElement:L,css:g,each:yi,extend:t,map:wi,merge:e,pick:f,splat:p,extendClass:v,pInt:n,wrap:x,svg:ze,canvas:Re,vml:!ze&&!Re,product:We,version:Ge})}(),mmf_modules.define("highcharts",["jquery"],function(t){return function(){var e;return e||t.Highcharts}}(this)),mmf_modules.define("utils/api",["context_vars/utils/api","utils/utils","jquery"],function(t,e,i){var n=e.extend(!0,{},t);return n.getRouteKMLUrl=function(t,e,n){window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),e=i.extend(e,{last_updated:(new Date).getTime()});var o=n?"/vxproxy/v7.0/route/":window.location.origin+"/routes/kml/";return o=o+t+"/?"+decodeURIComponent(i.param(e))},n.addApiCreds=function(e){return i.extend(!0,e,{consumer_key:t.key,signed_token:t.signed_token}),e},n}),function(t){function e(t,e){return function(i){return l(t.call(this,i),e)}}function i(t){return function(e){return this.lang().ordinal(t.call(this,e))}}function n(){}function o(t){r(this,t)}function s(t){var e=this._data={},i=t.years||t.year||t.y||0,n=t.months||t.month||t.M||0,o=t.weeks||t.week||t.w||0,s=t.days||t.day||t.d||0,r=t.hours||t.hour...ion(t){var e,i,n,o,s,r,a,l,h,d,u,p,f,g=[],m=!1,v=0,_={};for(_[c.TravelModes.DIRECT]=0,_[c.TravelModes.WALKING]=1,_[c.TravelModes.BICYCLING]=2,_[c.TravelModes.DRIVING]=3,e=0,o=t.length;o>e;e++)for(l=t[e],i=0,s=l.geometry.coordinates.length;s>i;i++){if(m=i===s-1,h=l.geometry.coordinates[i],a={lng:h[0],lat:h[1],order:m?++v:0},m&&(a.travel_mode=_[l.properties.travelMode],d=l.properties.notes,d&&d.length>0)){for(p=[],n=0,r=d.length;r>n;n++)u=[],f=d[n],u.push(f.text,f.geometry.coordinates[1],f.geometry.coordinates[0],f.distance),p.push(u.join(":"));a.notes=p.join("~")}g.push(a)}return g};h.mappingApiRouteDataToPoints=function(t){var e=[];return e=[].concat(u(t.markers)),e=e.concat(p(t.segments))};var f=function(){return"ride"===s.short_name?c.TravelModes.BICYCLING:c.TravelModes.WALKING};return h.pointsToMappingApiRouteData=function(){var t,i=function(t){return{geometry:{type:"Point",coordinates:[parseFloat(t.lng,10),parseFloat(t.lat,10)]},properties:{notes:{text:t.notes},iconId:parseInt(n(t),10)-2e3}}},n=function(t){return t._links&&t._links.marker_icon?t._links.marker_icon[0].id:void 0},o=function(t){switch(t){case 0:return c.TravelModes.DIRECT;case 1:return c.TravelModes.WALKING;case 2:return c.TravelModes.BICYCLING;case 3:return c.TravelModes.DRIVING;default:return c.TravelModes.DIRECT}},s=!1,r=function(e,i){var n={lng:parseInt(e[0],10),lat:parseInt(e[1],10)},o={lng:parseInt(i[0],10),lat:parseInt(i[1],10)};n.lng===o.lng&&n.lat===o.lat?t=!1:n.lng===o.lat&&n.lat===o.lng?(t=!0,l.push({event:"classic event",category:"Route Data Conversion",action:"routeDataToJSON",label:"Note with reversed coordinates found"})):Math.abs(n.lng-o.lng)<=1&&Math.abs(n.lat-o.lat)<=1?t=!1:Math.abs(n.lat-o.lng)<=1&&Math.abs(n.lng-o.lat)<=1?(t=!0,l.push({event:"classic event",category:"Route Data Conversion",action:"routeDataToJSON",label:"Note with reversed coordinates found"})):l.push(["classic event","Route Data Conversion","routeDataToJSON","Note with ??? coordinates found"]),s=!0},a=function(a){var l,c,h,d,u,p,g,m,v,_,y,x,b,w={areas:[],markers:[],segments:[]},k=e("<p>");for(l=0,c=a.length;c>l;l++)if(u=a[l],p=parseInt(u.order||0,10),g=parseInt(n(u)||0,10),g>=2e3)w.markers.push(i(u,g));else if(x){if(x&&(b.geometry.coordinates.push([parseFloat(u.lng,10),parseFloat(u.lat,10)]),p>0&&u.travel_mode||l===a.length-1)){if(b.properties.travelMode=o(parseInt(u.travel_mode||f(),10)),u.notes)for(m=u.notes.split("~"),h=0,d=m.length;d>h;h++)v=k.html(m[h].replace("><","> <")).text().split(":"),_=v.slice(0,-3).join(""),y=[parseFloat(v.slice(-2,-1)[0],10),parseFloat(v.slice(-3,-2)[0],10)],s||r(y,b.geometry.coordinates[0]),y=t?y.reverse():y,b.properties.notes.push({text:_,geometry:{type:"Point",coordinates:y},distance:parseInt(v.slice(-1)[0],10)});x=!1,w.segments.push(b),b=null}}else x=!0,b={geometry:{type:"LineString",coordinates:[[parseFloat(u.lng,10),parseFloat(u.lat,10)]]},properties:{iconIds:[g,null],notes:[]}};return w};return function(t){return a(t)}}(),h.getSetting=function(t,e){return r.Get("MMF.Maps."+t,e)},h.setSetting=function(t,e){return r.Set("MMF.Maps."+t,e)},h.routeDataFromJSON=function(t){var e,i,n,o,s,r,a,l=[];for(e=0,o=t.markers.length;o>e;e++)a=t.markers[e],l.push([a.geometry.coordinates[0],a.geometry.coordinates[1],a.properties.iconId+2e3,0,a.properties.notes.text].join(","));var c,h,d,u,p,f,g,m=[],v=0,_=!1;for(e=0,o=t.segments.length;o>e;e++)for(c=t.segments[e],i=0,s=c.geometry.coordinates.length;s>i;i++){if(_=i===s-1,h=c.geometry.coordinates[i],d=[h[0],h[1],_?"direct"===c.properties.travelMode.toLowerCase()?1e3:1001:0,_?++v:0],u=c.properties.notes,_&&u&&u.length>0){for(f=[],n=0,r=u.length;r>n;n++)g=[],p=u[n],g.push(p.text,p.geometry.coordinates[1],p.geometry.coordinates[0],p.distance),f.push(g.join(":"));d.push(f.join("~"))}m.push(d.join(","))}return l.concat(m).join("|")},h}),function(){var t,e,i,n,o,s={}.hasOwnProperty,r=function(t,e){function i(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};n=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,i,n,o,s,r;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:this.escapeExpression(t.label),children:0,disabled:t.disabled}),s=t.childNodes,r=[],n=0,o=s.length;o>n;n++)i=s[n],r.push(this.add_option(i,e,t.disabled));return r},t.prototype.add_option=function(t,e,i){return"OPTION"===t.nodeName.toUpperCase()?(""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,selected:t.selected,disabled:i===!0?i:t.disabled,group_array_index:e,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0
},t.prototype.escapeExpression=function(t){var e,i;return null==t||t===!1?"":/[\&\<\>\"\'\`]/.test(t)?(e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,t.replace(i,function(t){return e[t]||"&amp;"})):t},t}(),n.select_to_array=function(t){var e,i,o,s,r;for(i=new n,r=t.childNodes,o=0,s=r.length;s>o;o++)e=r[o],i.add_node(e);return i.parsed},e=function(){function t(e,i){this.form_field=e,this.options=null!=i?i:{},t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return t.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0},t.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return t.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(){var t=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return t.blur_test()},100))},t.prototype.results_option_build=function(t){var e,i,n,o,s;for(e="",s=this.results_data,n=0,o=s.length;o>n;n++)i=s[n],e+=i.group?this.result_add_group(i):this.result_add_option(i),(null!=t?t.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(i.text));return e},t.prototype.result_add_option=function(t){var e,i;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),i=document.createElement("li"),i.className=e.join(" "),i.style.cssText=t.style,i.setAttribute("data-option-array-index",t.array_index),i.innerHTML=t.search_text,this.outerHTML(i)):""},t.prototype.result_add_group=function(t){var e;return(t.search_match||t.group_match)&&t.active_options>0?(e=document.createElement("li"),e.className="group-result",e.innerHTML=t.search_text,this.outerHTML(e)):""},t.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},t.prototype.reset_single_select_options=function(){var t,e,i,n,o;for(n=this.results_data,o=[],e=0,i=n.length;i>e;e++)t=n[e],o.push(t.selected?t.selected=!1:void 0);return o},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.winnow_results=function(){var t,e,i,n,o,s,r,a,l,c,h,d,u;for(this.no_results_clear(),o=0,r=this.get_search_text(),t=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),n=this.search_contains?"":"^",i=new RegExp(n+t,"i"),c=new RegExp(t,"i"),u=this.results_data,h=0,d=u.length;d>h;h++)e=u[h],e.search_match=!1,s=n...,r(o.number_,s.number_)),l.push(a);else if(u===_&&l.length>0)o=l.pop(),r=this.ops1[a.index_],a=new i(v,0,0,r(o.number_)),l.push(a);else{for(;l.length>0;)c.push(l.shift());c.push(a)}}for(;l.length>0;)c.push(l.shift());return new n(c,e(this.ops1),e(this.ops2),e(this.functions))},substitute:function(t,o){o instanceof n||(o=(new m).parse(String(o)));var s,r=[],a=this.tokens.length,l=0;for(l=0;a>l;l++){s=this.tokens[l];var c=s.type_;if(c===x&&s.index_===t)for(var h=0;h<o.tokens.length;h++){var d=o.tokens[h],u=new i(d.type_,d.index_,d.prio_,d.number_);r.push(u)}else r.push(s)}var p=new n(r,e(this.ops1),e(this.ops2),e(this.functions));return p},evaluate:function(t){t=t||{};var e,i,n,o,s=[],r=this.tokens.length,a=0;for(a=0;r>a;a++){o=this.tokens[a];var l=o.type_;if(l===v)s.push(o.number_);else if(l===y)i=s.pop(),e=s.pop(),n=this.ops2[o.index_],s.push(n(e,i));else if(l===x)if(o.index_ in t)s.push(t[o.index_]);else{if(!(o.index_ in this.functions))throw new Error("undefined variable: "+o.index_);s.push(this.functions[o.index_])}else if(l===_)e=s.pop(),n=this.ops1[o.index_],s.push(n(e));else{if(l!==b)throw new Error("invalid Expression");if(e=s.pop(),n=s.pop(),!n.apply||!n.call)throw new Error(n+" is not a function");s.push("[object Array]"==Object.prototype.toString.call(e)?n.apply(void 0,e):n.call(void 0,e))}}if(s.length>1)throw new Error("invalid Expression (parity)");return s[0]},toString:function(t){var e,i,n,s,r=[],a=this.tokens.length,l=0;for(l=0;a>l;l++){s=this.tokens[l];var c=s.type_;if(c===v)r.push(o(s.number_));else if(c===y)i=r.pop(),e=r.pop(),n=s.index_,r.push(t&&"^"==n?"Math.pow("+e+","+i+")":"("+e+n+i+")");else if(c===x)r.push(s.index_);else if(c===_)e=r.pop(),n=s.index_,r.push("-"===n?"("+n+e+")":n+"("+e+")");else{if(c!==b)throw new Error("invalid Expression");e=r.pop(),n=r.pop(),r.push(n+"("+e+")")}}if(r.length>1)throw new Error("invalid Expression (parity)");return r[0]},variables:function(){for(var t=this.tokens.length,e=[],i=0;t>i;i++){var n=this.tokens[i];n.type_===x&&-1==e.indexOf(n.index_)&&e.push(n.index_)}return e},toJSFunction:function(t,e){var i=new Function(t,"with(Parser.values) { return "+this.simplify(e).toString(!0)+"; }");return i}},m.parse=function(t){return(new m).parse(t)},m.evaluate=function(t,e){return m.parse(t).evaluate(e)},m.Expression=n,m.values={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sqrt:Math.sqrt,log:Math.log,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,random:u,fac:p,exp:Math.exp,min:Math.min,max:Math.max,pyt:f,pow:Math.pow,atan2:Math.atan2,E:Math.E,PI:Math.PI};var M=1,T=2,C=4,S=8,D=16,P=32,A=64,L=128,I=256;return m.prototype={parse:function(t){this.errormsg="",this.success=!0;var o=[],s=[];this.tmpprio=0;var r=M|S|C|A,a=0;for(this.expression=t,this.pos=0;this.pos<this.expression.length;)if(this.isOperator())this.isSign()&&r&A?(this.isNegativeSign()&&(this.tokenprio=2,this.tokenindex="-",a++,this.addfunc(s,o,_)),r=M|S|C|A):this.isComment()||(0===(r&T)&&this.error_parsing(this.pos,"unexpected operator"),a+=2,this.addfunc(s,o,y),r=M|S|C|A);else if(this.isNumber()){0===(r&M)&&this.error_parsing(this.pos,"unexpected number");var l=new i(v,0,0,this.tokennumber);s.push(l),r=T|D|P}else if(this.isString()){0===(r&M)&&this.error_parsing(this.pos,"unexpected string");var l=new i(v,0,0,this.tokennumber);s.push(l),r=T|D|P}else if(this.isLeftParenth())0===(r&S)&&this.error_parsing(this.pos,'unexpected "("'),r&L&&(a+=2,this.tokenprio=-2,this.tokenindex=-1,this.addfunc(s,o,b)),r=M|S|C|A|I;else if(this.isRightParenth()){if(r&I){var l=new i(v,0,0,[]);s.push(l)}else 0===(r&D)&&this.error_parsing(this.pos,'unexpected ")"');r=T|D|P|S|L}else if(this.isComma())0===(r&P)&&this.error_parsing(this.pos,'unexpected ","'),this.addfunc(s,o,y),a+=2,r=M|S|C|A;else if(this.isConst()){0===(r&M)&&this.error_parsing(this.pos,"unexpected constant");var c=new i(v,0,0,this.tokennumber);s.push(c),r=T|D|P}else if(this.isOp2())0===(r&C)&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(s,o,y),a+=2,r=S;else if(this.isOp1())0===(r&C)&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(s,o,_),a++,r=S;else if(this.isVar()){0===(r&M)&&this.error_parsing(this.pos,"unexpected variable");var h=new i(x,this.tokenindex,0,0);s.push(h),r=T|D|P|S|L}else this.isWhite()||(""===this.errormsg?this.error_parsing(this.pos,"unknown character"):this.error_parsing(this.pos,this.errormsg));for((this.tmpprio<0||this.tmpprio>=10)&&this.error_parsing(this.pos,'unmatched "()"');o.length>0;){var d=o.pop();s.push(d)}return a+1!==s.length&&this.error_parsing(this.pos,"parity"),new n(s,e(this.ops1),e(this.ops2),e(this.functions))},evaluate:function(t,e){return this.parse(t).evaluate(e)},error_parsing:function(t,e){throw this.success=!1,this.errormsg="parse error [column "+t+"]: "+e,new Error(this.errormsg)},addfunc:function(t,e,n){for(var o=new i(n,this.tokenindex,this.tokenprio+this.tmpprio,0);e.length>0&&o.prio_<=e[e.length-1].prio_;)t.push(e.pop());
e.push(o)},isNumber:function(){for(var t=!1,e="";this.pos<this.expression.length;){var i=this.expression.charCodeAt(this.pos);if(!(i>=48&&57>=i||46===i))break;e+=this.expression.charAt(this.pos),this.pos++,this.tokennumber=parseFloat(e),t=!0}return t},unescape:function(t,e){for(var i=[],n=!1,o=0;o<t.length;o++){var s=t.charAt(o);if(n){switch(s){case"'":i.push("'");break;case"\\":i.push("\\");break;case"/":i.push("/");break;case"b":i.push("\b");break;case"f":i.push("\f");break;case"n":i.push("\n");break;case"r":i.push("\r");break;case"t":i.push(" ");break;case"u":var r=parseInt(t.substring(o+1,o+5),16);i.push(String.fromCharCode(r)),o+=4;break;default:throw this.error_parsing(e+o,"Illegal escape sequence: '\\"+s+"'")}n=!1}else"\\"==s?n=!0:i.push(s)}return i.join("")},isString:function(){var t=!1,e="",i=this.pos;if(this.pos<this.expression.length&&"'"==this.expression.charAt(this.pos))for(this.pos++;this.pos<this.expression.length;){var n=this.expression.charAt(this.pos);if("'"==n&&"\\"!=e.slice(-1)){this.pos++,this.tokennumber=this.unescape(e,i),t=!0;break}e+=this.expression.charAt(this.pos),this.pos++}return t},isConst:function(){var t;for(var e in this.consts){var i=e.length;if(t=this.expression.substr(this.pos,i),e===t)return this.tokennumber=this.consts[e],this.pos+=i,!0}return!1},isOperator:function(){var t=this.expression.charCodeAt(this.pos);if(43===t)this.tokenprio=0,this.tokenindex="+";else if(45===t)this.tokenprio=0,this.tokenindex="-";else if(124===t){if(124!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=0,this.tokenindex="||"}else if(42===t)this.tokenprio=1,this.tokenindex="*";else if(47===t)this.tokenprio=2,this.tokenindex="/";else if(37===t)this.tokenprio=2,this.tokenindex="%";else{if(94!==t)return!1;this.tokenprio=3,this.tokenindex="^"}return this.pos++,!0},isSign:function(){var t=this.expression.charCodeAt(this.pos-1);return 45===t||43===t?!0:!1},isPositiveSign:function(){var t=this.expression.charCodeAt(this.pos-1);return 43===t?!0:!1},isNegativeSign:function(){var t=this.expression.charCodeAt(this.pos-1);return 45===t?!0:!1},isLeftParenth:function(){var t=this.expression.charCodeAt(this.pos);return 40===t?(this.pos++,this.tmpprio+=10,!0):!1},isRightParenth:function(){var t=this.expression.charCodeAt(this.pos);return 41===t?(this.pos++,this.tmpprio-=10,!0):!1},isComma:function(){var t=this.expression.charCodeAt(this.pos);return 44===t?(this.pos++,this.tokenprio=-1,this.tokenindex=",",!0):!1},isWhite:function(){var t=this.expression.charCodeAt(this.pos);return 32===t||9===t||10===t||13===t?(this.pos++,!0):!1},isOp1:function(){for(var t="",e=this.pos;e<this.expression.length;e++){var i=this.expression.charAt(e);if(i.toUpperCase()===i.toLowerCase()&&(e===this.pos||"_"!=i&&("0">i||i>"9")))break;t+=i}return t.length>0&&t in this.ops1?(this.tokenindex=t,this.tokenprio=5,this.pos+=t.length,!0):!1},isOp2:function(){for(var t="",e=this.pos;e<this.expression.length;e++){var i=this.expression.charAt(e);if(i.toUpperCase()===i.toLowerCase()&&(e===this.pos||"_"!=i&&("0">i||i>"9")))break;t+=i}return t.length>0&&t in this.ops2?(this.tokenindex=t,this.tokenprio=5,this.pos+=t.length,!0):!1},isVar:function(){for(var t="",e=this.pos;e<this.expression.length;e++){var i=this.expression.charAt(e);if(i.toUpperCase()===i.toLowerCase()&&(e===this.pos||"_"!=i&&("0">i||i>"9")))break;t+=i}return t.length>0?(this.tokenindex=t,this.tokenprio=4,this.pos+=t.length,!0):!1},isComment:function(){var t=this.expression.charCodeAt(this.pos-1);return 47===t&&42===this.expression.charCodeAt(this.pos)?(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0):!1}},t.Parser=m,m}("undefined"==typeof exports?{}:exports);mmf_modules.define("parser",function(t){return function(){var e;return e||t.Parser}}(this)),mmf_modules.define("app/route/dynamic_route_sponsorship",["parser","jquery","console"],function(t,e,i){var n,o={};o.init=function(t){n=t||{}};var s=function(i,o){var s=n.info;if(s){var r="_1";s.trigger_distance&&(r=i.converted<s.trigger_distance?"_1":"_2");for(var a=s.click_url,l=s["message"+r],c=s["font_color"+r],h=s["font_size"+r],d=s["font_weight"+r],u=s["bg_image"+r],p=s["bg_color"+r],f=(s["impression_code"+r],{distance:i.converted,unit:i.unit.abbreviated}),g="",m=l.match(/%.*?%/g),v=0;v<m.length;v++)if("%%"===m[v])l=l.replace("%%","%");else{var _="";"string"==typeof m[v]&&(g=m[v].replace(/\%/g,""),_=Math.round(10*t.evaluate(g,f))/10),l=l.replace("%"+g+"%",_)}var y=e("#dynamic-route-ad-message");y.text(l),y.css("color",c),h>0?y.css("fontSize",h+"px"):y.css("fontSize",""),d===!0?y.css("fontWeight","bold"):y.css("fontWeight","normal");var x=e("#dynamic-route-ad");x.css("background-color",p),x.css("background-image").indexOf(u)&&o||x.css("background-image","url('"+u+"')"),x.click(function(){document.location.href=a})}};return o.distanceChanged=function(t){if(!n)return void i.log("DRS: Init must be called prior to distanceChanged. Skipping updates.");if(s(...-i}();P.height(t),M.height(i),e("#route_loading_modal").height(t),e("#left").height(t),e("#left-content").height(t-e("#left_pervasive").outerHeight()),k&&k.resizeMap(),Oe()},Ye=function(){Re(),window.MMF.Maps.createMap?Ce():window.mapi_loaded_callback=Ce,He(),Ee()},Re=function(){P=e("#mapping"),M=e("#map_container"),T=e("#map-details"),S=e("#elevation"),D=e("#elevation_content"),C=e("#cue-notes"),A=e("#collapse"),I=e("#left-inner").find("section.main"),L=e("#route_loading_modal"),O=e("#workout-date")},Ee=function(){var t=(e("#mode").find("a"),e("#location_search_container")),i=e("#location-search"),n=e("#search"),o=e("#location-search-text"),s=e("#directions"),r=e("#get_directions_container"),a=e("#get_directions"),c=e("#directions-b-text"),h=e("#shared_mode_controls"),d=e("#mode_close_wrapper"),u=function(){r.hide(),h.hide(),d.hide(),i.show()},p=e("#travel_mode_switcher").find("a"),f=e("#travel_mode_select"),g=f.find("option");p.on("click",function(){p.removeClass("active"),e(this).addClass("active");var t=p.index(this);g.eq(t).attr("selected",!0),k.setTravelMode(f.val())}),n.add(d).on("click",function(){u()}),s.on("click",function(){G.log("Click Get Directions"),u(),d.show(),r.show(),h.show(),i.hide()}),t.find(".geolocate").on("click",function(t){t.preventDefault(),l.geolocate(function(t){t&&t.coords&&t.coords.latitude&&t.coords.longitude&&(o.val(t.coords.latitude+", "+t.coords.longitude),i.trigger("click"))})}),i.on("click",function(t){t.preventDefault();var e=o.val();e.length>0&&k.goToAddress(e)}),o.on("keyup",function(t){13===t.keyCode&&i.trigger("click")});var m=o,v=c,_=function(){var t={origin:m.val(),destination:v.val(),travel_mode:f.val()};return 0===t.destination.length?void ne(c,"A destination location is required",4e3):(te(T),void(t.origin.length>0?k.getDirectionsModeRoute(t):l.geolocate(function(e){e&&e.coords&&e.coords.latitude&&e.coords.longitude&&(t.origin=e.coords.latitude+", "+e.coords.longitude,o.val(t.origin)),k.getDirectionsModeRoute(t)},function(){ne(o,"A start location is required",4e3)})))};r.find(".geolocate").on("click",function(t){t.preventDefault(),l.geolocate(function(t){t&&t.coords&&t.coords.latitude&&t.coords.longitude&&c.val(t.coords.latitude+", "+t.coords.longitude)})}),a.on("click",_).add(v).on("keypress",function(t){13===t.keyCode&&_()})},He=function(){e(window).on("resize",ze),"view"!==y.action&&(e("#cancel").on("click",function(t){t.preventDefault(),window.history.go(-1)}),e(".save").filter(".primary").on("click",function(t){t.preventDefault(),G.log("Save Route","primary"),"closed"===A.data("status")&&A.click(),re(this)}),e(".save").not(".primary").on("click",function(t){t.preventDefault(),G.log("Save Route","secondary"),re(this)}));var t=e("#tags").qtip({content:{text:e("#modal-tags"),title:{text:"Popular Tags",button:!0}},position:{my:"left center",at:"right center"},show:{event:"click",solo:!0},hide:{event:"unfocus"},style:"ui-tooltip-light ui-tooltip-rounded",events:{hide:se,show:function(){if(t.val().length){var i=t.val().split(",");e("#modal-tags a.tag").each(function(t,n){for(var o in i)i[o].trim()===e(n).text()&&e(n).addClass("selected")})}}}});e("#workout-date").datepicker({maxDate:0}).val(e.datepicker.formatDate("mm/dd/yy",new Date)),y.activity_types&&y.activity_types.length>0&&Le(y.activity_types[0]),e("#more_meta_btn").on("click",function(t){t.preventDefault();var i=e("#more_meta"),n=e(this);i.hasClass("open")?(i.hide(),i.removeClass("open"),n.text("More")):(i.show(),i.addClass("open"),n.text("Less"))}),"edit"===y.action&&(te(T),T.css("border-top","0 none"),e("#workout-container").show(),e(".left-ad").css("margin-top","10px"),e("#save_secondary").show(),e("#more_meta_btn").hide(),e("#more_meta").show()),e("#have-done-will-do").on("change",function(){var t="have-done"===e(this).val();e("#duration-control")[t?"show":"hide"](),e("#send-to-phone-control")[t?"hide":"show"](),e("label.have-done-will-do-with").text(t?"Did with":"Will do with"),t?e("#workout-date").datepicker("option","minDate",null).datepicker("option","maxDate",0):e("#workout-date").datepicker("option","minDate",0).datepicker("option","maxDate",null)}),e(document).on("keyup",function(t){t.ctrlKey&&90===t.keyCode&&k.toggleScrollWheelZoom(!0)}),e("#a-workout-date").on("click",function(t){t.preventDefault(),e("#workout-date").datepicker("show")}),e("#log-as-workout-content").find(":input").on("focus",function(){e("#log-as-workout-content").find(":input").off("focus")}),A.on("click",function(t){var i=e(this);t.preventDefault();var n=i.attr("data-status");"open"===n?(e("#buttons_minimized").show(),z&&(window.clearTimeout(F),z.hide())):e("#buttons_minimized").hide(),e("#left_pervasive")["open"===n?"hide":"show"](),e("#left")["open"===n?"hide":"show"](),e("#right").css("margin-left","open"===n?0:340),i.attr("data-status","open"===n?"closed":"open"),"open"===n?i.addClass("closed"):i.removeClass("closed"),i.children(".mapping-api-sprite").toggleClass("sprite-left sprite-right"),setTimeout(function(){ze()
},200)}),e("#tags-apply").on("click",function(t){t.preventDefault();var i=[];e("#modal-tags a.tag").each(function(t,n){e(n).hasClass("selected")&&i.push(e(n).text())}),e("#tags").val(i.join(", ")).qtip("hide")}),e("#tags-cancel").on("click",function(t){t.preventDefault(),e("#tags").qtip("hide")}),e("#tags-reset").on("click",function(t){t.preventDefault(),se()}),e("div.accordion h2").on("click",function(){e(this).parent().toggleClass("expanded")}),e(".toggle-content").on("click",function(t){var i=e(this).text()===e(this).attr("data-hide-text")?!1:!0;t.preventDefault(),e(this).text(e(this).attr(i?"data-hide-text":"data-show-text")).parent().parent().children(".content-togglable")[i?"show":"hide"]()}),e(".tag").on("click",function(t){t.preventDefault(),e(this).toggleClass("selected")}),e("#elevation_expand").on("click",function(){e("#show_elevation").click()}),H=_.createSelectView({el:e("#activity_type_select_container"),id:"activity",activity_types:y.activity_types,hash:"outdoor",selected_id:y.activity_types_selected&&y.activity_types_selected.length?parseInt(y.activity_types_selected[0],10):null}),e("#activity").chosen(),e("#activity").on("change",function(){var t=/bike ride/gi,i=e(this).find("option:selected").text();t.test(i)&&(e("#travel-mode-select-bicycling").attr("disabled")||k.setTravelMode("bicycling"))}),D.on("mouseout",function(){V.hidePoint&&V.hidePoint()}),e(".import-route-data").on("click",function(t){t.preventDefault(),K();{var i=e(this).attr("href");e("<div id='mmf_import_workouts'><iframe src='"+i+"' id='upload_file_frame' name='upload_file_frame' width='100%' height='440px' frameborder='0' framemargin='0'></iframe></div>").dialog({title:"Import Route Data from Device",modal:!0,width:450,height:500,zIndex:3e3,close:function(){e(this).remove()}})}}),e("#fullscreen").on("click",function(t){t.preventDefault();var i=e(this),n=e(this).data("is_fullscreen");n||window.scrollTo(0,document.body.scrollHeight),A.click(),i.data("is_fullscreen",!n),G.log("Toggle Fullscreen",n?"disable":"enable")}),e("a.cancel").on("click",function(t){t.preventDefault(),window.history.go(-1)}),e("#change_chart_type").on("click",function(t){t.preventDefault();var i=e(this).data("chart_type");"elevation"===i?(e(this).data("chart_type","grades").text("Show elevation chart"),V.chart_type="grades",V.last_elevation&&Te(V.last_elevation)):"grades"===i&&(e(this).data("chart_type","elevation").text("Show elevation with grades"),V.chart_type="elevation",V.last_elevation&&Te(V.last_elevation))}),e("#help").on("click",function(){G.log("Click Help","help")}),e(document.body).on("change","#send-to-phone",function(){G.log("Send To Phone",e(this).prop("checked")?"enable":"disable")}),e("#login-cancel").on("click",function(t){t.preventDefault(),window.history.go(-1)}),I.find("header").on("click",function(t){var i=e(this),n=i.parent("section").hasClass("open");I.removeClass("open").find("article").slideUp(),n||("undefined"!=typeof t.which&&G.log("Expand Left Panel Section",i.parent("section").attr("id")),i.parent("section").addClass("open").find("article").slideDown())})};e(function(){Q(),("view"===y.action||ie())&&(Ye(),l.loadMappingApi({callback:"mapi_loaded_callback",consumer_key:s.key,site:h.name,namespace:X}))})}),mmf_modules.define("mmf/routes/standalone/main",function(){}),mmf_modules.require(["mmf/routes/standalone/main"]);
//# sourceMappingURL=main.js.map
